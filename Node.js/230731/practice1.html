<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // function call(name) {
        //     return new Promise((resolve, reject) => {
        //         setTimeout(function () {
        //             console.log(name)
        //             resolve(name);
        //         }, 1000)
        //     });
        // }

        // function back(txt) {
        //     return new Promise((resolve, reject) => {
        //         setTimeout(function () {
        //             console.log('back');
        //             resolve('back');
        //         }, 1000)
        //     });
        // }

        // function hell(msg) {
        //     return new Promise((resolve, reject) => {
        //         setTimeout(function () {
        //             resolve('callback hell');
        //         }, 1000)
        //     });
        // }

        // call('kim')
        //     .then((name) => {
        //         console.log(name + '반가워');
        //         return back();
        //     }).then((txt) => {
        //         console.log(txt + '을 실행했구나');
        //         return hell();
        //     }).then((msg) => {
        //         console.log('여기는' + msg);
        //     })

        // function back(result) {
        //     setTimeout(function () {
        //         console.log('back');
        //         cb('back');
        //     }, 1000)
        // }
        // function hell(cb) {
        //     setTimeout(function () {
        //         console.log('callback hell');
        //     }, 1000)
        // }

        // call('kim', function (name) {
        //     console.log(name + '반가워');
        //     back(function (txt) {
        //         console.log(txt + '을 실행했구나');
        //         hell(function (message) {
        //             console.log('여기는' + message);
        //         }, 1000)
        //     })
        // })

        //----실습 풀이

        function call(name) {
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    console.log(name);
                    resolve(name);
                }, 1000);
            })
        }
        function back() {
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    console.log('back');
                    resolve('back');
                }, 1000);
            })
        }
        function hell() {
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    resolve('callback hell');
                }, 1000);
            })
        }


        // promise로 실행
        call('kim')
            .then((res) => {
                console.log(`${res} 반가워`)
                return back()
            }).then((res) => {
                console.log(`${res}을 실행했구나`)
                return hell()
            }).then((res) => {
                console.log(`여기는 ${res}`)
            })


    </script>
</body>

</html>